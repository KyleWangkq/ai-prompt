# 需求分析提示词

本目录包含业务需求分析和用例建模的提示词集合。

## 🎯 功能概述

这些提示词用于在 DDD 设计之前进行业务分析，帮助理解业务需求、识别参与者和用例。

## 📋 提示词清单

### 1. 业务架构设计

**文件**: [business-analysis.prompt.md](business-analysis.prompt.md)

**用途**: 帮助制定系统的业务架构

**输入**: 业务领域描述、业务目标

**输出**:
- 目标用户分析
- 核心功能定义
- 支撑功能列表
- 用户规模评估
- 性能要求
- 安全要求
- 扩展要求

**适用场景**:
- 新项目启动阶段
- 业务架构规划
- 系统可行性分析

### 2. 用例建模

**文件**: [use-case-modeling.prompt.md](use-case-modeling.prompt.md)

**用途**: 根据需求文档生成用例模型

**输入**: 需求设计文档

**输出**:
- 参与者识别
- 用例图
- 详细的用例描述（包括用例编号、名称、类型、参与者、前置条件、成功流、分支流、替代流、后置条件）

**输出文件**: `docs/{context_name}用例模型.md`

**特点**:
- ✅ 结构化的用例描述
- ✅ 包含主流程和异常流程
- ✅ 支持后续的 DDD 设计

## 🚀 使用流程

### 典型流程

```bash
# 1. 业务架构设计（可选）
如果是全新项目，使用 business-analysis.prompt.md
输出：业务架构文档

# 2. 详细需求设计
编写详细的需求设计文档

# 3. 用例建模
使用 use-case-modeling.prompt.md 生成用例模型
输出：用例模型文档

# 4. DDD 设计
基于需求文档和用例模型，使用 ../ddd/ 目录下的提示词进行 DDD 设计
```

## 📊 输出示例

### 用例描述示例

```markdown
## UC-001: 用户登录

**用例编号**: UC-001
**用例名称**: 用户登录
**用例类型**: 业务操作
**参与者**: 用户
**前置条件**: 用户已注册账号

**成功流**:
1. 用户访问登录页面
2. 系统显示登录表单
3. 用户输入用户名和密码
4. 系统验证凭证
5. 系统创建会话
6. 系统跳转到首页

**分支流**:
3.1 用户选择第三方登录
  3.1.1 系统跳转到第三方授权页面
  3.1.2 用户授权成功后返回系统
  3.1.3 继续执行步骤 5

**替代流**:
4.1 用户名或密码错误
  4.1.1 系统提示错误信息
  4.1.2 返回步骤 3

**后置条件**: 用户成功登录系统，获得访问权限
```

## 📖 与 DDD 设计的关系

```mermaid
graph LR
    A[业务架构设计] --> B[详细需求文档]
    B --> C[用例建模]
    C --> D[DDD 设计]
    D --> E[代码实现]
```

1. **业务架构设计** → 提供高层次的业务视图
2. **用例建模** → 识别系统功能和参与者
3. **DDD 设计** → 设计技术架构和实现方案
4. **代码生成** → 生成可运行的代码骨架

## ⚠️ 注意事项

1. **需求完整性**: 用例建模依赖于完整的需求文档
2. **参与者识别**: 确保识别所有相关的参与者（人员、系统、角色）
3. **流程覆盖**: 不仅要描述正常流程，也要考虑异常情况
4. **粒度适中**: 用例粒度要适中，既不要太粗也不要太细

## 🔄 最佳实践

1. **迭代细化**: 先进行高层次的业务分析，再逐步细化到具体用例
2. **干系人参与**: 用例建模应该有业务方和开发方共同参与
3. **验证完整性**: 确保用例覆盖所有功能需求
4. **保持一致**: 用例描述的术语应与后续 DDD 设计保持一致

## 📖 相关文档

- [DDD 架构设计提示词](../ddd/README.md)
- [支付模块需求设计示例](../../../支付模块需求设计.md)
- [支付模块用例模型示例](../../../docs/支付模块用例模型.md)

## 🔄 版本历史

- **v2.0** (2025-10-09): 重新整理需求分析提示词，统一命名规范
- **v1.0**: 初始版本
